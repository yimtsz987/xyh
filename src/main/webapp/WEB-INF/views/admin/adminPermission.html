<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="renderer" content="webkit|ie-comp|ie-stand">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
		<meta http-equiv="Cache-Control" content="no-siteapp" />
		<link rel="stylesheet" href="assets/css/bootstrap.min.css"  />
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="css/public.css">
		<link rel="stylesheet" href="assets/css/codemirror.css" >
		<link rel="stylesheet" href="assets/css/ace.min.css" />
		<link rel="stylesheet" href="assets/css/font-awesome.min.css" />
		<link rel="stylesheet" href="font/css/font-awesome.min.css" />
		<link rel="stylesheet" href="Widget/zTree/css/zTreeStyle/zTreeStyle.css" >
		<!--[if IE 7]>
		  <link rel="stylesheet" href="assets/css/font-awesome-ie7.min.css" />
		<![endif]-->
		<!--[if lte IE 8]>
		  <link rel="stylesheet" href="assets/css/ace-ie.min.css" />
		<![endif]-->
		<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
		<script type="text/javascript" src="js/close_alert.js"></script>
		<script type="text/javascript" src="js/lrtk.js" ></script>
		<script type="text/javascript" src="js/custom.js" ></script>
		<script type="text/javascript" src="assets/js/bootstrap.min.js"></script>
		<script type="text/javascript" src="assets/js/typeahead-bs2.min.js"></script>
		<script type="text/javascript" src="assets/js/jquery.dataTables.min.js"></script>
		<script type="text/javascript" src="assets/js/jquery.dataTables.bootstrap.js"></script>
		<script type="text/javascript" src="assets/layer/layer.js"></script>
		<script type="text/javascript" src="assets/laydate/laydate.js"></script>
		<script type="text/javascript" src="assets/js/jquery.easy-pie-chart.min.js"></script>
		<!--表单验证 -->
		<script type="text/javascript" src="Widget/Validform/5.3.2/Validform.min.js"></script>
		<!--动态传值 -->
		<script type="text/javascript" src="js/vue.js"></script>
		<!--图片上传 -->
		<script type="text/javascript" src="scripts/swfobject.js"></script>
		<script type="text/javascript" src="scripts/fullAvatarEditor.js"></script>
		<!--文件树 -->
		<script type="text/javascript" src="Widget/zTree/js/jquery.ztree.all-3.5.min.js"></script>
		<!--富文本 -->
		<script type="text/javascript" charset="utf-8" src="js/ueditor.config.js"></script>
		<script type="text/javascript" charset="utf-8" src="js/editor_api.js">
		</script>
		<!--建议手动加在语言，避免在ie下有时因为加载语言失败导致编辑器加载失败-->
		<!--这里加载的语言文件会覆盖你在配置项目里添加的语言类型，比如你在配置项目里配置的是英文，这里加载的中文，那最后就是中文-->
		<script type="text/javascript" charset="utf-8" src="js/zh-cn.js"></script>
		<title>管理权限</title>
	</head>

	<body>
		<div class="margin clearfix">
			 <div class="search_style">
      <div class="title_names">搜索查询</div>
      <ul class="search_content clearfix">
       <li><label class="l_f">管理员名称</label><input name="" type="text" class="text_add" placeholder="输入管理员名称" style=" width:400px"></li>
       <li style="width:90px;"><button type="button" class="btn_search"><i class="fa fa-search"></i>查询</button></li>
      </ul>
    </div>
			<div class="border clearfix">
				<span class="l_f">
		<a href="javascript:void(0)" id="Competence_add" class="btn btn-info"><i class="fa fa-plus"></i> 添加权限</a>
        <a href="javascript:void(0)" class="btn btn-danger"><i class="fa fa-trash"></i> 批量删除</a>
       </span>
				<span class="r_f">共：<b>3</b>类</span>
			</div>
			<div class="compete_list">
				<table id="sample-table-1" class="table table-striped table-bordered table-hover">
					<thead>
						<tr>
							<th class="center"><label><input type="checkbox" class="ace"><span class="lbl"></span></label></th>
							<th>权限名称</th>
							<th>人数</th>
							<th>权限值</th>
							<th class="hidden-480">描述</th>
							<th class="hidden-480">操作</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td class="center"><label><input type="checkbox" class="ace"><span class="lbl"></span></label></td>
							<td>超级管理员</td>
							<td>1</td>
							<td class="hidden-480">admin</td>
							<td>拥有至高无上的权利,操作系统的所有权限</td>
							<td>
								<a title="编辑" onclick="Competence_modify('560')" href="javascript:void(0):;" class="btn btn-xs btn-info"><i class="fa fa-edit bigger-120"></i></a>
								<a title="删除" href="javascript:void(0):;" onclick="Competence_del(this,'1')" class="btn btn-xs btn-warning"><i class="fa fa-trash  bigger-120"></i></a>
							</td>
						</tr>
						<tr>
							<td class="center"><label><input type="checkbox" class="ace"><span class="lbl"></span></label></td>
							<td>普通管理员</td>
							<td>3</td>
							<td class="hidden-480">admin123 , 张小泉 ,克雷鲍</td>
							<td>拥有网站的系统大部分使用权限，没有权限管理功能。</td>
							<td>
								<a title="编辑" onclick="Competence_modify('561')" href="javascript:void(0):;" class="btn btn-xs btn-info"><i class="fa fa-edit bigger-120"></i></a>
								<a title="删除" href="javascript:void(0):;" onclick="Competence_del(this,'2')" class="btn btn-xs btn-warning"><i class="fa fa-trash  bigger-120"></i></a>
							</td>
						</tr>
						<tr>
							<td class="center"><label><input type="checkbox" class="ace"><span class="lbl"></span></label></td>
							<td>编辑管理员</td>
							<td>5</td>
							<td class="hidden-480">admin345,stysty,adminstyle,admin45678,admin123455</td>
							<td>拥有部分权限，主要进行编辑功能，无边界订单功能，权限分配功能。</td>
							<td>
								<a title="编辑" onclick="Competence_modify('562')" href="javascript:void(0):;" class="btn btn-xs btn-info"><i class="fa fa-edit bigger-120"></i></a>
								<a title="删除" href="javascript:void(0):;" onclick="Competence_del(this,'3')" class="btn btn-xs btn-warning"><i class="fa fa-trash  bigger-120"></i></a>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
 </div>
		 <div id="Competence_add_style" style="display:none">
   <div class="Competence_add_style">
     <div class="form-group"><label class="col-sm-2 control-label no-padding-right" for="form-field-1"> 权限名称 </label>
       <div class="col-sm-9"><input type="text" id="form-field-1" placeholder=""  name="权限名称" class="col-xs-10 col-sm-5"></div>
	</div>
	<div class="form-group"><label class="col-sm-2 control-label no-padding-right" for="form-field-1"> 权限值 </label>
       <div class="col-sm-9"><input type="text" id="form-field-1" placeholder=""  name="权限值" class="col-xs-10 col-sm-5"></div>
	</div>
     <div class="form-group"><label class="col-sm-2 control-label no-padding-right" for="form-field-1"> 权限说明 </label>
       <div class="col-sm-9"><textarea name="权限说明" class="form-control" id="form_textarea" placeholder="" onkeyup="checkLength(this);"></textarea><span class="wordage">剩余字数：<span id="sy" style="color:Red;">200</span>字</span></div>
	</div>
   </div> 
  </div>
	</body>

</html>
<script type="text/javascript">
	/*添加权限*/
	$('#Competence_add').on('click', function(){	 
		 layer.open({
	        type: 1,
	        title: '添加权限',
			maxmin: true, 
			shadeClose: false,
	        area : ['800px' , ''],
	        content:$('#Competence_add_style'),
			btn:['提交','取消'],
			yes:function(index,layero){	
			 var num=0;
			 var str="";
	     $(".col-sm-9 input[type$='text'],#form_textarea").each(function(n){
	          if($(this).val()=="")
	          {
	               
				   layer.alert(str+=""+$(this).attr("name")+"不能为空！\r\n",{
	                title: '提示框',				
					icon:0,								
	          }); 
			    num++;
	            return false;            
	          } 
			 });
			  if(num>0){  return false;}	 	
	          else{
				  layer.alert('添加成功！',{
	               title: '提示框',				
				icon:1,		
				  });
				   layer.close(index);	
			  }		  		     				
			}
	    });			 
	 });
	/*权限-删除*/
	function Competence_del(obj, id) {
		layer.confirm('确认要删除吗？', function(index) {
			$(obj).parents("tr").remove();
			layer.msg('已删除!', {
				icon: 1,
				time: 1000
			});
		});
	}
	/*修改权限*/
	function Competence_del(id) {
		window.location.href = "Competence.html?=" + id;
	};
	/*字数限制*/
	function checkLength(which) {
		var maxChars = 200; //
		if(which.value.length > maxChars) {
			layer.open({
				icon: 2,
				title: '提示框',
				content: '您出入的字数超多限制!',
			});
			// 超过限制的字数了就将 文本框中的内容按规定的字数 截取
			which.value = which.value.substring(0, maxChars);
			return false;
		} else {
			var curr = maxChars - which.value.length; //250 减去 当前输入的
			document.getElementById("sy").innerHTML = curr.toString();
			return true;
		}
	};
	/*添加管理员*/
$('#administrator_add').on('click', function(){
	layer.open({
    type: 1,
	title:'添加管理员',
	area: ['700px',''],
	shadeClose: false,
	content: $('#add_administrator_style'),
	
	});
})
	//表单验证提交
$("#form-admin-add").Validform({
		
		 tiptype:2,
	
		callback:function(data){
		//form[0].submit();
		if(data.status==1){ 
                layer.msg(data.info, {icon: data.status,time: 1000}, function(){ 
                    location.reload();//刷新页面 
                    });   
            } 
            else{ 
                layer.msg(data.info, {icon: data.status,time: 3000}); 
            } 		  
			var index =parent.$("#iframe").attr("src");
			parent.layer.close(index);
			//
		}
		
		
	});	
</script>